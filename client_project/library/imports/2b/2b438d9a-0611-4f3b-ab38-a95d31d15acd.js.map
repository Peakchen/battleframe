{"version":3,"sources":["assets\\scripts\\gm.js"],"names":["wsNet","require","Global","GMID","resetStarPos","cc","Class","getwsNetObj","sendResetStarPos","log","buff","ArrayBuffer","data","Uint32Array","MID_GM","nodexflag","nodex","parseInt","nodeyflag","nodey","sendwsmessage"],"mappings":";;;;;;AACA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB;;AAEA,IAAIE,IAAI,GAAG;AACPC,EAAAA,YAAY,EAAE;AADP,CAAX;AAIAC,EAAE,CAACC,KAAH,CAAS;AAELC,EAAAA,WAAW,EAAE,uBAAW;AACpB,WAAO,IAAIP,KAAJ,EAAP;AACH,GAJI;AAMLQ,EAAAA,gBAAgB,EAAE,4BAAU;AACxBH,IAAAA,EAAE,CAACI,GAAH,CAAO,mBAAP;AACA,QAAIC,IAAI,GAAG,IAAIC,WAAJ,CAAgB,EAAhB,CAAX;AACA,QAAIC,IAAI,GAAG,IAAIC,WAAJ,CAAgBH,IAAhB,CAAX;AAEAE,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUV,MAAM,CAACY,MAAjB,CALwB,CAKQ;;AAChCF,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV,CANwB,CAMQ;;AAChCA,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUT,IAAI,CAACC,YAAf,CAPwB,CAOQ;;AAEhC,QAAIW,SAAS,GAAG,CAAhB;AACA,QAAIC,KAAK,GAAG,GAAZ;;AACA,QAAIA,KAAK,GAAG,GAAZ,EAAiB;AACbD,MAAAA,SAAS,GAAG,CAAZ;AACAC,MAAAA,KAAK,GAAG,MAAMA,KAAd;AACH;;AAEDJ,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUG,SAAV,CAhBwB,CAgBQ;;AAChCH,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUK,QAAQ,CAACD,KAAD,CAAlB,CAjBwB,CAiBQ;;AAChC,QAAIE,SAAS,GAAG,CAAhB;AACA,QAAIC,KAAK,GAAG,CAAC,EAAb;;AACA,QAAIA,KAAK,GAAG,GAAZ,EAAiB;AACbD,MAAAA,SAAS,GAAG,CAAZ;AACAC,MAAAA,KAAK,GAAG,MAAMA,KAAd;AACH;;AAEDP,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUM,SAAV,CAzBwB,CAyBQ;;AAChCN,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUK,QAAQ,CAACE,KAAD,CAAlB,CA1BwB,CA0BQ;;AAEhC,SAAKZ,WAAL,GAAmBa,aAAnB,CAAiCR,IAAjC;AACH;AAnCI,CAAT","sourceRoot":"/","sourcesContent":["\r\nlet wsNet = require(\"wsNet\")\r\nlet Global = require(\"common\")\r\n\r\nvar GMID = {\r\n    resetStarPos: 1,\r\n}\r\n\r\ncc.Class({\r\n\r\n    getwsNetObj: function() {\r\n        return new wsNet();\r\n    },\r\n\r\n    sendResetStarPos: function(){\r\n        cc.log(\"reset star pos...\")\r\n        var buff = new ArrayBuffer(28)\r\n        var data = new Uint32Array(buff)\r\n\r\n        data[0] = Global.MID_GM         //消息ID\r\n        data[1] = 5                     //消息长度\r\n        data[2] = GMID.resetStarPos     //gm 子命令id\r\n        \r\n        var nodexflag = 1\r\n        var nodex = 0.0\r\n        if (nodex < 0.0) {\r\n            nodexflag = 2\r\n            nodex = 0.0 - nodex\r\n        }\r\n\r\n        data[3] = nodexflag             //x坐标正负\r\n        data[4] = parseInt(nodex)       //x坐标\r\n        var nodeyflag = 1\r\n        var nodey = -88 \r\n        if (nodey < 0.0) {\r\n            nodeyflag = 2\r\n            nodey = 0.0 - nodey\r\n        }\r\n\r\n        data[5] = nodeyflag             //y坐标正负\r\n        data[6] = parseInt(nodey)       //y坐标\r\n\r\n        this.getwsNetObj().sendwsmessage(data)\r\n    }\r\n})"]}